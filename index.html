<!DOCTYPE html>
<html>

<head>
  <title>Re.Configure</title>
  <script type="module" src="./js/ui.js"></script>
  <link rel="stylesheet" type="text/css" href="./css/re_corder.css" />
</head>

<body>
  <dialog id="flash_dialog"><label id="lbl-flash"></label></dialog>
  <h1>Re.Configure</h1>
  <p>
    Unofficial <a href="https://github.com/nettoyeurny/re_configure">
      configuration tools</a> for <a href="http://www.artinoise.com/">
      Artinoise re.corder</a> --- use at your own risk!
  </p>
  <p>
    <table>
      <tr>
        <td>Input</td>
        <td><select id="input_port-selector"></select></td>
      </tr>
      <tr>
        <td>Output</td>
        <td><select id="output_port-selector"></select></td>
        <td><input type="checkbox" id="chk_match_ports">Match Input</input></td>
      </tr>
      <tr>
        <td></td>
        <td><button id="btn_connect">Connect</button></td>
      </tr>
    </table>
  </p>
  <p>
    <label id="lbl-state"></label>
    <br>
    <label id="lbl-cc"></label>
  </p>
  <h2>Configuration</h2>
  <p>
  <ul>
    <li>user_mode: "Breath", "Lip", "Keyboard"</li>
    <li>midi_channel: 1-16</li>
    <li>threshold: 601-16383</li>
    <li>velocity: 0-127</li>
    <li>aftertouch, curve: "None", "Linear", "Emb1"-"Emb20"</li>
    <li>ctrl: 0-127</li>
    <li>easy_connect: true, false</li>
    <li>maintain_note: true, false</li>
    <li>smooth_acc: 0-4</li>
  </ul>
  </p>
  <p>
    <button class="re_corder" id="btn_get_config">Get Config</button>
    <button class="re_corder" id="btn_set_config">Set Config</button>
    <button class="re_corder" id="btn_restore_default">Restore Default</button>
    <button class="file_access" id="btn_open_config">Open</button>
    <button class="file_access" id="btn_save_config">Save</button>
    <br>
    <textarea id="txt-config" rows="30" cols="48"></textarea>
  </p>
  <h2>Fingering</h2>
  <p>
    A fingering chart is a list of the form
    <pre>
  [
    ...
    [ "G5",  "*.***.oooo" ],
    [ "G#5", "*.**o.**@o" ],
    [ "A5",  "*.**o.oooo" ],
    ...
  ]
    </pre>
    where each item specifies a note and a string representing a fingering to be
    read from left to right (left thumb to right pinkie), where `o/*/@` stands
    for an open/closed/partially closed hole, with optional dots for
    readability. In addition, the letter `e` specifies a partially closed hole
    in the opposite way (e.g., for left-handed fingerings).
  </p>
  <p>
    <button class="re_corder" id="btn_get_fingerings">Get Fingering</button>
    <button class="re_corder" id="btn_set_fingerings">Set Fingering</button>
    <button class="file_access" id="btn_open_fingerings">Open</button>
    <button class="file_access" id="btn_save_fingerings">Save</button>
    <br>
    <textarea id="txt-fingerings" rows="30" cols="48"></textarea>
  </p>
  <h2>Keyboard</h2>
  <p>
    A keyboard chart is simply a list of notes corresponding to the holes on
    top of the re.corder, sorted from left to right.
  </p>
  <p>
    <button class="re_corder" id="btn_get_keyboard_chart">Get Keyboard</button>
    <button class="re_corder" id="btn_set_keyboard_chart">Set Keyboard</button>
    <button class="file_access" id="btn_open_keyboard_chart">Open</button>
    <button class="file_access" id="btn_save_keyboard_chart">Save</button>
    <br>
    <textarea id="txt-keyboard_chart" rows="12" cols="48"></textarea>
  </p>
</body>

</html>
