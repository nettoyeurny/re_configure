<!DOCTYPE html>
<html>

<head>
  <title>Re.Configure</title>
  <script src="re_corder.js"></script>
  <script src="ui.js"></script>
  <style>
    body {font-family: monospace;}
    #flash_dialog {position: fixed;}
  </style>
</head>

<body>
  <dialog id="flash_dialog"><label id="flash_label"></label></dialog>
  <h1>Re.Configure</h1>
  <p>
    Unofficial <a href="https://github.com/nettoyeurny/re_configure">
      configuration tools</a> for <a href="http://www.artinoise.com/">
      Artinoise re.corder</a> --- use at your own risk!
  </p>
  <p>
    <label>Re.corder Port:</label>
    <select id="input-port-selector"></select></label>
    <br>
    <label id="re_corder-state">No connection.</label>
    <br>
    <label id="re_corder-cc"></label>
  </p>
  <h2>Re.corder Configuration</h2>
  <p>
  <ul>
    <li>user_mode: "Breath", "Lip", "Keyboard"</li>
    <li>midi_channel: 1-16</li>
    <li>threshold: 601-16383</li>
    <li>velocity: 0-127</li>
    <li>aftertouch, curve: "None", "Linear", "Emb1"-"Emb20"</li>
    <li>ctrl: 0-127</li>
    <li>easy_connect: true, false</li>
    <li>maintain_note: true, false</li>
    <li>smooth_acc: 0-4</li>
  </ul>
  </p>
  <p>
    <button class="re_corder" onclick="get_config();">Get Config</button>
    <button class="re_corder" onclick="set_config();">Set Config</button>
    <button class="re_corder" onclick="restore_default();">
      Restore Default</button>
    <button class="file_access" onclick="load_contents('re_corder-config');">
      Open</button>
    <button class="file_access"
      onclick="save_contents('re_corder-config', 'config.json');">Save</button>
    <br>
    <textarea id="re_corder-config" rows="30" cols="48"></textarea>
  </p>
  <h2>Fingering Chart</h2>
  <p>
    A fingering chart is a list of the form
  <pre>
  [
    ...
    [ "G5",  "*.***.oooo" ],
    [ "G#5", "*.**o.**@o" ],
    [ "A5",  "*.**o.oooo" ],
    ...
  ]
    </pre>
  where each item specifies a note and a string representing a fingering to be
  read from left to right (left thumb to right pinkie), where `o/*/@` stands
  for an open/closed/partially closed hole, with optional dots for
  readability. In addition, the letter `e` specifies a partially closed hole
  in the opposite way (e.g., for left-handed fingerings).
  </p>
  <p>
    <button class="re_corder" onclick="get_fingerings();">Get Fingering</button>
    <button class="re_corder" onclick="set_fingerings();">Set Fingering</button>
    <button class="file_access"
      onclick="load_contents('re_corder-fingerings');">Open</button>
    <button class="file_access"
      onclick="save_contents('re_corder-fingerings', 'fingerings.json');">
      Save</button>
    <br>
    <textarea id="re_corder-fingerings" rows="30" cols="48"></textarea>
  </p>
  <h2>Keyboard Chart</h2>
  <p>
    A keyboard chart is simply a list of notes corresponding to the holes on
    top of the re.corder, sorted from left to right.
  </p>
  <p>
    <button class="re_corder" onclick="get_keyboard_chart();">
      Get Keyboard</button>
    <button class="re_corder" onclick="set_keyboard_chart();">
      Set Keyboard</button>
    <button class="file_access"
      onclick="load_contents('re_corder-keyboard');">Open</button>
    <button class="file_access"
      onclick="save_contents('re_corder-keyboard', 'keyboard.json');">
      Save</button>
    <br>
    <textarea id="re_corder-keyboard" rows="12" cols="48"></textarea>
  </p>
</body>

</html>
